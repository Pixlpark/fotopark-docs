---
title: Подготовка макетов
description: Спецификация подготовки PSD-макетов
sidebar_position: 1
---
# Подготовка макетов в PSD-формате

## Общая информация
* **Макет** – это файл в формате PSD, содержащий только растровые, текстовые и векторные слои.
* Разрешение макета должно быть задано не ниже указанного в настройках продукта, для которого он готовится. Обычно используют разрешение 300dpi.
* В макете можно использовать только 8-битное цветовое пространство и цветовую модель в RGB.
* При подготовке макета недопустимо использовать часть эффектов, прозрачность и деформацию слоев без последующего растрирования.
* Поддерживаемые эффекты:
    + Обводка текста - без закругления, без прозрачности, тип обводки "Цвет", положение "Снаружи";
    + Тень текста - без прозрачности;
    + Обводка `placeholder` - без закругления, без прозрачности, тип обводки "Цвет", положение "Снаружи".
* В редакторе отображение слоев будет соответствовать их расположению в макете, если не прописаны дополнительные ключи, влияющие на их поведение.
* В наименовании слоев можно использовать следующие ключи:
    + `[template-preview]` – не отображает слой в редакторе, однако использует его в качестве обложки шаблона;
    + `[nonprintable]` – отображает слой в редакторе, но не включает его в итоговый файл для печати;
    + `[optional]` – если данный текстовый слой не был изменен пользователем в редакторе, он не будет отображаться в выходном изображении;
    + `[locked]` – запрещает перемещать или удалять слой в редакторе;
    + `[align:Top | TopRight | Right | BottomRight | Bottom | BottomLeft | Left | TopLeft| CenterLeft | CenterRight | TopCenter | BottomCenter]` – задает выравнивание слоя по одному из указанных значений. Например, `[align:Left]` и `[align:Right]` используется для графических элементов на обложке фотокниги, чтобы с ростом корешка они оставались на прежнем месте на странице;
    + `[background]` – считает слой фоновым, т.е. располагает ниже всех слоев и заполняет им всю зону печати (при необходимости пропорционально масштабируя);
    + `[foreground]` – считает слой обложкой, т.е. располагает поверх всех слоев и запрещает с ним любые операции (редактирования, перемещения и удаления).
    + `[frame: width:3 shadow:3 borderRadius:3 rgb(255, 255, 255)]` - параметр для рамки типа "Обводка", где `width:3` - это толщина рамки со значением 3, `shadow:3` - это интенсивность тени рамки со значением 3, `borderRadius:3` - это закругление углов рамки со значением 3, `rgba(255, 255, 255)` - это цвет рамки.
* А для текстовых слоев помимо ключей можно использовать и префиксы, которые автоматически устанавливают значение слоя данными клиента:
    + `txt_FirstName` - имя;
    + `txt_LastName` - фамилия;
    + `txt_Email` - эл. почта;
    + `txt_Phone` - телефон.
* При смене шаблонов в редакторе значения текстовых слоев с префиксом `txt_*` переносятся между собой в случае полного совпадения имени.

## Работа с текстом
* Размер текста устанавливать в Adobe Photoshop  нужно только при помощи изменения кегля.
* Короткий текст может содержать только одну строку и иметь выравнивание по центру, по левому или по правому краю. 
* Блочный текст может содержать любое количество строк и иметь выравнивание только по левому краю.
* Для текстовых слоев можно использовать ключ `[optional]`, который не выводит слой в файле для печати, если он не был изменен в редакторе.
* Для создания макета можно использовать любые шрифты. Однако, если шрифт не принадлежит коллекции Google Fonts, предварительно его нужно загрузить в систему и связать через механизм маппинга с названием шрифта в макете. Это можно выполнить в панели управления в разделе ["Печать / Дизайн / Шрифты"](../print/designs).
* Цвет текста может быть не только однотонным, но и градиентным. Для задания градиента необходимо использовать ключ `[gradient: 45deg, rgba(0, 255, 0, 1) 10, rgba(255, 0, 0, 1) 90]`, где  `45` - это угол наклона градиента, `rgba(0, 255, 0, 1)` - это цвет, `10` - точка останова цвета. Цветов в градиенте должно быть не менее двух.
* Парение текста задается в формате `[hover: 50 rgba(22, 22, 22, 1)]`, где `hover` - значение интенсивности парения, `rgba(22, 22, 22, 1)` - это цвет. 
* Фон текста задается в формате `[text-background: padding: 50 radius: 50 rgba(222, 222, 0, 1)]`, где `padding` - это внутренний отступ со всех сторон от текста, `radius` - это степень скругления углов фона текста, `rgba(222, 222, 0, 1)` - это цвет фона.
> Альтернативные способы задать обводку и тень текста:
>   + Обводка текста задается в формате `[outline: rgba(255, 0, 0, 1) 5]`, где  `rgba(255, 0, 0, 1)` - это цвет, `5` - толщина;
>   + Тень текста задается в формате `[shadow: x:-10 y:20 blur:6 rgba(22, 22, 22, 1)]`, где `x` - это смещениие тени по горизонтали, `y` - это смещениие тени по вертикали, `blur` - это радиус размытия, `rgba(22, 22, 22, 1)` - это цвет тени.

## Работа с изображениями

### Фото без декора
* Для размещения фотографии необходимо:
    1. Создать растровый слой с двумя ключами `[placeholder]` и `[path:pathName]`, где **pathName** – название контура.
    2. Создать контур с именем **pathName** и привязать к слою `[placeholder]`.
* Фотография будет размещена в области `[path]` и заменит собой содержимое слоя `[placeholder]`.
![](../_media/design/photoWithoutDecor.png ':size=90%')
* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/15760170?secret=2b82db6cd6f33b7d062dd2598fe05fcc) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/softcover-layflat-photobooks/15x20-soft-180/template-5665774/editor).

### Фото с декором
* Для размещения фотографии необходимо:
    1. Создать группу с ключом `[placeholder]`.
    2. В группе создать замкнутый растровый слой с ключом `[mask]` и прозрачностью по центру для отображения фотографии.
    3. В группе создать растровый слой с двумя ключами `[content]` и `[path:pathName]`, где **pathName** – название контура.
    4. Создать контур с именем **pathName** и привязать к слою `[content]`.
* Фотография будет размещена в области `[path]`, заменит собой содержимое слоя `[content]` и отобразится с наложением `[mask]`.
![](../_media/design/photoWithDecor.png ':size=90%')
* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/18556122?secret=3d35c2308878e4f6a8c194dce66135a1) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/softcover-photobooks/20x20-soft/template-6296066/editor?q=1&oq=0&p=11&ws=11819a1630fb09355d289f9fab3e335c).

### Фотоколлажи
* В сервисе Pixlpark существуют наборы коллажей пропорцией 3:2 и 2:3 с количеством фотографий от 1 до 7 штук.
* Для размещения коллажа необходимо:
    1. Создать растровый слой с двумя ключами `[collage:n]` (**n** - количество фотографий в коллаже) и `[path:pathName]`, где **pathName** – название контура.
    1. Создать контур с именем **pathName** и привязать к слою `[collage:n]`.
* Допустимо вместо `[collage:n]` использовать ключ `[collage]`. Тогда количество фотографий будет произвольным в соответствии с настройками категории. Коллаж будет вписан в растровый слой и заменит собой его содержимое.
![](../_media/design/photoCollage.png ':size=70%')
* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/18664133?secret=a02739a6a3e1ca2e6d25483071a564fa) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/wall-calendars/a3-vert/template-6471446/editor).

## Особенности макетов фотокниг
* Общий механизм подготовки макетов позволяет создавать дизайны фотокниг, однако макеты в этом случае должны быть дообрезных размеров под каждый формат и тип книги, т.е. содержать область загиба, вылет и корешок по умолчанию.
* Для оптимизации подготовки макетов, мы разработали технологию адаптивного дизайна фотокниг, которая позволяет использовать один макет для близких по размеру форматов вне зависимости от размеров вылета, корешка и загиба.
* Суть технологии заключается в следующем:
    + Макет не содержит вылета, корешка и загиба.
    + Макет состоит из склеенных в единый разворот двух страниц, фонового изображения и набора объектов, размещенных на всем развороте.
    + Каждая из страниц макета вписывается в левую или правую половину зоны печати, фоновое изображение заполняет всю зону печати с вылетами, а прочие объекты располагаются на развороте по центру.
* Для использования технологии в [настройках шаблона](../print/designs#характеристики-шаблона) параметр **"Инициализации шаблона"** должен иметь значение **"Шаблон постранично вписывается в страницы зоны печати без вылетов"**, а макет соответствовать следующей структуре:
    + `[page][align:left]` – группа слоев, элементы которой вписываются в левую половину зоны печати;
    + `[page][align:right]` – группа слоев, элементы которой вписываются в правую половину зоны печати;
    + `[surface]` – группа слоев, элементы которой располагаются верхними слоями на всей зоне печати;
    + `[background]` – слой с фоновым изображением, который полностью заполняет зону печати.
![](../_media/design/photobookLayoutpng.png ':size=90%')
* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/18556091?secret=dde9f6ae063a66734a461477afbb8990) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/softcover-photobooks/20x20-soft/template-6334532/editor).

## Особенности макетов календарей
* Общий механизм подготовки макетов позволяет создавать дизайны календарей, однако макеты в этом случае должны содержать календарные сетки на каждый месяц.
* Для оптимизации подготовки макетов, мы разработали технологию умного дизайна календаря, которая позволяет использовать в дизайне автоматически формируемые календарные сетки на любой месяц.
* Суть технологии заключается в следующем:
    + Макет содержит слой, в котором будет располагаться календарная сетка.
    + Календарная сетка формируется динамически в редакторе и отображается в дизайне в указанной области.
    + Дизайн календарной сетки настраивается в панели управления Pixlpark.
    + В ячейки календарной сетки в редакторе можно помещать фотографии или подписывать их (например, отметить памятное событие).
* Для использования технологии необходимо:
    1. В панели управления Pixlpark в разделе ["Печать / Дизайн / Календари"](/print/designs#календари) создать собственные дизайны календарных сеток или оставить для использования системные.
    1. В [настройках шаблона](../print/designs#характеристики-шаблона) параметру **"Тип шаблона"** задать значение **"Календарь"**, а параметру **"Сетка по умолчанию"** - название наиболее подходящей календарной сетки для данного шаблона.
    1. В макете использовать следующие ключи:
        + `[template-preview]` – группа растровых слоев в первом макете, не отображающаяся в редакторе, элементы которой используются в качестве обложки шаблона. Каждый слой группы соответствует определенному году и называется `[year]` (например, [2023]), где **year** - год, заданный в панели управления в разделе ["Печать / Дизайны / Шаблоны / Настройка"](../print/designs#характеристики-шаблона).
        + `[calendar-title]` – текстовый слой, содержимое которого будет заменено на начальный год календаря (например, использовать в слое `[template-preview]` для обложки);
        + `[calendar-title-range]` – текстовый слой, содержимое которого будет заменено на начальный и конечный год календаря через дефис, если календарь создается на несколько лет;
        + `[calendar][path:pathName]` – графический слой, содержимое которого будет заменено на календарную сетку, а **pathName** – название контура, привязанного к данному слою.
    ![](../_media/design/CalendarCover.png ':size=70%')
    ![](../_media/design/CalendarPage.png ':size=70%')
* Вы можете скачать примеры [макета обложки](https://admin.pixlpark.com/content/pxp-template-download/18103595?secret=4e95f489f54f2fe625b8c8f9e34aee35) и [страницы календаря](https://admin.pixlpark.com/content/pxp-template-download/18103581?secret=5f086c92f92673a69bec6bce3716e6a2) или [посмотреть их в редакторе](https://demo.pixlpark.ru/printing/wall-calendars/a4-vert/template-6324454/editor?q=1&oq=0&p=13&ws=d751713988987e9331980363e24189ce).

## Особенности макетов выпускных альбомов
* Общий механизм подготовки макетов позволяет создавать дизайны выпускных альбомов, но обладает следующими недостатками:
    + При наличии в дизайне разворота с виньетками пользователь самостоятельно создает раскладку учеников в редакторе, а затем подписывает каждого из них при размещении фотографии.
    + Пользователь заново компонует дизайн альбома из доступных макетов, т.к.:
        + Шаблон может содержать взаимоисключающие макеты, которые по умолчанию загружаются в редактор;
        + Если количество макетов меньше разворотов в альбоме, они размещаются повторно по кругу.    
* Для упрощения этой работы мы разработали технологию выпускных альбомов, суть которой заключается в следующем:
    + Макет содержит настройку, отвечающую за участие в автозаполнении при загрузке шаблона в редактор. Таким образом некоторые макеты можно исключить из дизайна по умолчанию.
    + Обычно в многостраничных альбомах последние развороты заполняются коллажами из фотографий. Поэтому, если количество макетов, участвующих в автозаполнении, меньше разворотов альбома, то следующие развороты циклично заполняются макетами без каких-либо рамок (а не всеми поряд). А уже в самом редакторе к таким макетам автоматически применяются коллажи, которые размещаются выше фонового слоя, но ниже всех остальных.
    + Макет может содержать дизайн разворота с виньетками под различное количество учеников. Для этого все слои, относящиеся к определеному количеству учеников, размещаются в отдельных группах с наименованием `[students:n]`, где __n__ - количество учеников (например: `[students:20]`). В редактор в этом случае будет подгружаться нужная раскладка учеников по заданному их количеству в модальном окне инициализации редактора.
    + Макет может содержать дизайн разворота с виньетками под различное количество учителей. По аналогии с предыдущим пунктом макет должен содержать группу с наименованием `[teachers:n]`, внутри которой будут группы учителей с наименованиями `[teacher]` (учитель), `[curator]` (классный руководитель) и `[director]` (директор).
    + Макет может содержать следующие слои:
        + `[school name]` - название школы;
        + `[city]` - город;
        + `[year]` - год выпуска;
        + `[year half1]` - первые две цифры года выпуска;
        + `[year half2]` - вторые две цифры года выпуска;
        + `[number]` - номер класса (от 1 до 11);
        + `[letter]` - буква класса (от "А" до "Я");
        + `[profile]` - профиль класса или название группы.
    + При размещении фотографии в виньетку текстовые поля для ФИО могут быть автоматически заполнены из названия фотографии. Для этого необходимо, чтобы:
        + Название файла содержало комбинацию Имени, Фамилии и Отчества (опционально) через пробел;
        + Слои для виньетки и ФИО находились в одной группе. Например, можно использовать следующие ключи:
            + `[student]` - название группы слоев для одного ученика;
            + `[current-student]` - название группы слоев для текущего ученика в группе `[students:n]`;
            + `[frame]` - слой с фотографией;
            + `[firstname]` - слой с Именем; 
            + `[lastname]` - слой с Фамилией; 
            + `[middlename]` - слой с Отчеством; 
            + `[firstname lastname]` - слой с Именем и Фамилией.
* ![](../_media/design/photobook-trioPage.png)
* Вы можете скачать [пример шаблона](https://pixlpark.ru//content/upload/download/template-photobooks-folding.rar) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/trio-photobooks/20x30/template-6867720/editor).

## Советы по работе с Adobe Photoshop
### Создание контура
* Для добавления контура необходимо:
    1. Создать новый слой с уникальным именем в панели "Контуры" (например `"path_N"`).
    2. Выбрать инструмент "Перо" (горячая клавиша – "P").
    3. Начертить контур с помощью пера так, чтобы последняя точка замыкалась с первой. При использовании слоя `[mask]`, точки нужно ставить примерно посередине самой рамки, чтобы она закрывала границы фотографии.
    4. Повторить эту операцию для каждой рамки в макете.